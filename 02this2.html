<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="버튼">이벤트리스너</button>
    <script>
      // 오브젝트 생성기계 (constructor)

      let a = {};

      function con() {
        this.name = "kim"; // instance 새로 생성되는 오브젝트
      }

      let obj = new con();

      // eventListner
      document.getElementById("버튼").addEventListener("click", function (e) {
        //this; // e.currentTarget; 과 같은 의미로 사용
        // console.log(this);
        // console.log(e.currentTarget);

        let 배열 = [1, 2, 3];
        배열.forEach(function (a) {
          // 콜백함수 들어간다. (함수안에 함수를 넣는걸 의미한다.) 순차적으로 쓰고 싶을떄 사용한다~
          console.log(a);
          console.log(this);
        });
      });




      let obj2 = {
        name : ['김','이','박'],
        func : function() {
            console.log(this); // 여기서 출력하면 obj2
            obj2.name.forEach(function() {
                console.log(this); // 여기서 왜 window 이지? -> 여기서 콜백함수는 그냥 근본없는 일반함수이다. 그래서 전역함수를 바라본다.

                //근데 여기서 arrow function 으로 콜백함수를 쓰면 내부의 this값을 변화시키지 않는다.
                // 즉, 외부 this값 그대로 재사용이 가능하다. 그래서 위에 this출력이랑 같게 나온다.
            })
        }
        // this값은 함수의 위치에 따라 변한다. 그러니까 this의 위에 있는 function을 잘 보면 쉽게 파악할 수 있어 보인다.
      }

      obj2.func(); 
    </script>
  </body>
</html>
